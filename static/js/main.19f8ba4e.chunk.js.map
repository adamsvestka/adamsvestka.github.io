{"version":3,"sources":["root.js","Chat.js","App.js","index.js"],"names":["GlobalContext","createContext","Components","className","Array","from","map","e","i","on","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","error","console","Icon","props","test","src","alt","draggable","ChatRoom","useContext","loading","user","banned","scrolldown","useRef","useListVals","database","ref","messages","loadingMessages","useObjectVal","users","loadingUsers","useEffect","current","parentNode","scrollTop","offsetTop","Loading","ChatMessage","message","text","displayName","photoURL","msg","a","connect","uid","push","meta","sent","ChatBar","join","includes","title","input","sendMessage","key","value","timestamp","ServerValue","TIMESTAMP","data","providerData","type","placeholder","onKeyDown","onClick","SignIn","Chat","loadingUser","name","UserDropdown","autoLogin","useState","login","setLogin","DropdownItem","leftIcon","rightIcon","uiConfig","autoUpgradeAnonymousUsers","callbacks","signInSuccessWithAuthResult","authResult","redirectUrl","signInFailure","code","Promise","resolve","auth","currentUser","delete","log","credential","signInWithCredential","newUser","once","val","keys","Object","filter","mid","updates","fromEntries","update","set","signInSuccessUrl","credentialHelper","firebaseui","CredentialHelper","GOOGLE_YOLO","signInFlow","isSignInWithEmailLink","window","location","href","signInOptions","provider","EmailAuthProvider","PROVIDER_ID","signInMethod","EMAIL_LINK_SIGN_IN_METHOD","GoogleAuthProvider","clientId","FacebookAuthProvider","TwitterAuthProvider","GithubAuthProvider","PhoneAuthProvider","AnonymousAuthProvider","firebaseAuth","isAnonymous","email","phoneNumber","signOut","Sidebar","nodeRef","CSSTransition","in","visible","timeout","classNames","children","SidebarItem","DropdownMenu","React","forwardRef","Navbar","Filler","style","margin","NavItem","autoOpen","open","setOpen","ref2","target","persistent","contains","document","addEventListener","removeEventListener","icon","badge","cloneElement","Main","page","App","accessibility","useAuthState","strikes","loadingStrikes","loadingBanned","storage","parent","listAll","items","path","fetch","res","ok","blob","put","getDownloadURL","sidebar","values","JSON","parse","localStorage","getItem","state","setState","savedKeys","setItem","stringify","entries","k","getMedia","matchMedia","matches","loadMedia","media","original","mediaText","toggleMedia","newState","forEach","Provider","Switch","styleSheets","flatMap","rules","CSSMediaRule","m","toString","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19f8ba4e.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport 'firebase/storage';\n\nimport './root.css';\n\n// React\nconst GlobalContext = createContext({});\n\nexport { GlobalContext };\n\nconst Components = {};\n\nComponents.Loading = () => {\n    return (\n        <div className=\"loading-container\">\n            <div className=\"lds-ellipsis\">\n                {Array.from(Array(4)).map((e, i) => <div key={i} />)}\n            </div>\n        </div>\n    );\n};\n\nComponents.Switch = ({ on }) => {\n    return (\n        <div className={'switch ' + (on ? 'on' : 'off')} />\n    );\n};\n\nexport { Components };\n\n// Firebase\ntry {\n    firebase.initializeApp({\n        apiKey: \"AIzaSyAzpjpeQgorGwi0JFEwHB4gmnoLCCaLY0k\",\n        authDomain: \"homepage-407c5.firebaseapp.com\",\n        databaseURL: \"https://homepage-407c5.firebaseio.com\",\n        projectId: \"homepage-407c5\",\n        storageBucket: \"homepage-407c5.appspot.com\",\n        messagingSenderId: \"837019211462\",\n        appId: \"1:837019211462:web:cf461d3ab5fa5bec6f69c7\",\n        measurementId: \"G-2EHD20CHYQ\"\n    });\n} catch(error) {\n    console.error(error);\n}\n\nexport { firebase };","import React, { useContext, useEffect, useRef } from 'react';\n\nimport { useListVals, useObjectVal } from 'react-firebase-hooks/database';\n\nimport { firebase, GlobalContext, Components } from './root';\n\nimport './Chat.css';\n\n\nfunction Icon(props) {\n    return /https:\\/\\//.test(props.src) ? <img alt=\"\" draggable=\"false\" {...{ ...props, className: 'msg-image' + (props.className ? ' ' + props.className : '') }} /> : <i {...{ ...props, className: 'material-icons-round msg-image ' + props.className }}>{props.src ?? 'person'}</i>;\n}\n\nfunction Chat() {\n\n    const { user, loadingUser } = useContext(GlobalContext);\n    \n    return loadingUser || user ? <ChatRoom /> : <SignIn />;\n}\n\nfunction ChatRoom() {\n\n    const { loading, user, banned } = useContext(GlobalContext);\n    const scrolldown = useRef();\n\n    const [messages, loadingMessages] = useListVals(firebase.database().ref('messages'));\n    const [users, loadingUsers] = useObjectVal(firebase.database().ref('users'));\n\n    useEffect(() => scrolldown.current && (scrolldown.current.parentNode.scrollTop = scrolldown.current.offsetTop));\n\n    return (\n        <div className=\"chat\">\n            <span className=\"chat-header\">Chatroom</span>\n            <div className=\"chat-body\">\n                {loading || loadingMessages || loadingUsers ? <Components.Loading /> :\n                (banned ? <ChatMessage message={{ text: 'You have been banned noob!', displayName: 'Admin', photoURL: 'verified_user' }} /> :\n                messages?.map((msg, i, a) => {\n                    const connect = [];\n                    if (a[i-1]?.uid === msg.uid) connect.push('top');\n                    if (a[i+1]?.uid === msg.uid) connect.push('bottom');\n                    return <ChatMessage key={i} meta={{ sent: msg.uid === user.uid, connect: connect }} message={{ ...msg, ...users[msg.uid] }} />\n                }))}\n                <div ref={scrolldown} />\n            </div>\n            <ChatBar />\n        </div>\n    );\n}\n\nfunction ChatMessage({ meta, message: msg }) {\n    return (\n        <div className={'message ' + (meta?.sent ? 'sent' : 'received') + meta?.connect?.map?.(e => ' connect-' + e)?.join?.('') }>\n            {!meta?.connect?.includes('top') && <Icon src={msg?.photoURL} title={msg?.displayName ?? '(anonymous)'} />}\n            <span className=\"msg-text\">{msg?.text}</span>\n        </div>\n    );\n}\n\nfunction ChatBar() {\n\n    const { user } = useContext(GlobalContext);\n    const input = useRef();\n\n    const sendMessage = e => {\n        if ((e.key && e.key !== 'Enter') || /^\\s*$/.test(input.current.value)) return;\n\n        firebase.database().ref('messages/').push({\n            uid: user.uid,\n            timestamp: firebase.database.ServerValue.TIMESTAMP,\n            text: input.current.value\n        });\n        input.current.value = '';\n    };\n\n    const data = user?.providerData?.[0] ?? user ?? {};\n\n    return (\n        <div className=\"chat-footer\">\n            <Icon src={data.photoURL} title=\"You\" />\n            <input className=\"chat-input\" type=\"text\" placeholder={data.displayName ? `Chatting as ${data.displayName}...` : 'Chatting anonymously...'} onKeyDown={sendMessage} ref={input} />\n            <button className=\"chat-send\" onClick={sendMessage}>Send</button>\n        </div>\n    );\n}\n\nfunction SignIn() {\n    return <span>You must sign in first!</span>;\n}\n\nexport default Chat;","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { CSSTransition } from 'react-transition-group';\n\nimport * as firebaseui from 'firebaseui';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { useObjectVal } from 'react-firebase-hooks/database';\n\nimport { firebase, GlobalContext, Components } from './root';\nimport Chat from './Chat';\n\nimport './App.css';\n\n\nfunction Icon({ name }) {\n    return name?.includes?.('https') ? <img alt=\"\" draggable=\"false\" className=\"user-image\" src={name} /> : <i className=\"material-icons-round\">{name}</i>;\n}\n\nfunction App({ keys, accessibility }) {\n\n    const [user, loadingUser] = useAuthState(firebase.auth());\n    const [strikes, loadingStrikes] = useObjectVal(firebase.database().ref(`users/${user?.uid}/strikes`));\n    const [banned, loadingBanned] = useObjectVal(firebase.database().ref(`banned/${user?.uid}`));\n\n    useEffect(() => {\n        if (!user || user.isAnonymous) return;\n        \n        (async () => {\n            const data = user?.providerData?.[0] ?? user;\n            const ref = firebase.storage().ref('users/' + user.uid + '.jpg');\n            if ((await ref.parent.listAll()).items.map(e => e.location.path).includes('users/' + user.uid + '.jpg')) return;\n            const res = await fetch(data.photoURL);\n            if (!res.ok) return;\n            await ref.put(await res.blob());\n\n            firebase.database().ref('users/' + user.uid).set({\n                displayName: data.displayName,\n                photoURL: await ref.getDownloadURL()\n            });\n        })();\n    }, [user]);\n\n    const [state, setState] = useState({\n        sidebar: false,\n        location: 0,\n        accessibility: {\n            ...Object.fromEntries(Object.values(keys).map(e => [e, null])),\n        },\n        \n        ...JSON.parse(window.localStorage.getItem('state'))\n    });\n    \n    useEffect(() => {\n        const savedKeys = ['location', 'accessibility'];\n        window.localStorage.setItem('state', JSON.stringify(Object.fromEntries(Object.entries(state).filter(([k]) => savedKeys.includes(k)))));\n    }, [state]);\n    \n    const getMedia = key => state.accessibility[key] ?? window.matchMedia(accessibility[key][1]).matches;\n\n    const loadMedia = (key, value) => {\n        const [media, original] = accessibility[key];\n        switch (value) {\n            case window.matchMedia(original).matches: media.mediaText = original; return null;\n            case true: media.mediaText = 'all'; return true;\n            default: media.mediaText = 'not all'; return false;\n        }\n    };\n    \n    const toggleMedia = key => {\n        const newState = state;\n        if (loadMedia(key, newState.accessibility[key] = !getMedia(key)) === null) newState.accessibility[key] = null;\n        setState({ ...newState });\n    };\n    \n    Object.keys(accessibility).forEach(key => loadMedia(key, getMedia(key)));\n\n    const autoLogin = firebase.auth().isSignInWithEmailLink(window.location.href);\n\n    return (\n        <GlobalContext.Provider value={{ loading: loadingUser || loadingBanned, user, banned }}>\n            <Sidebar visible={state.sidebar}>\n                <SidebarItem leftIcon=\"airplanemode_on\" onClick={() => setState({ ...state, location: 0 })}>Item</SidebarItem>\n                <SidebarItem leftIcon=\"airplanemode_on\" onClick={() => setState({ ...state, location: 1 })}>Item</SidebarItem>\n                <SidebarItem leftIcon=\"chat\" onClick={() => setState({ ...state, location: 2 })}>Chat</SidebarItem>\n            </Sidebar>\n            <Navbar>\n                <NavItem icon=\"menu\" persistent={true} onClick={e => setState({ ...state, sidebar: e })} />\n                <Filler />\n                <NavItem icon={'notifications' + (strikes ? '_active' : '')} badge={strikes}>\n                    <DropdownMenu>\n                        {((loadingUser || loadingStrikes) && <Components.Loading />) ||\n                        (banned && <DropdownItem leftIcon=\"error\">{`You have been banned!`}</DropdownItem>) ||\n                        (strikes && <DropdownItem leftIcon=\"warning\">{`You have ${strikes}/3 strikes!`}</DropdownItem>) ||\n                        (<DropdownItem leftIcon=\"thumb_up\">Nothing to see here 😁</DropdownItem>)\n                        }\n                    </DropdownMenu>\n                </NavItem>\n                <NavItem icon=\"account_circle\" persistent={false} autoOpen={autoLogin}>\n                    <DropdownMenu>\n                        <UserDropdown autoLogin={autoLogin} />\n                    </DropdownMenu>\n                </NavItem>\n                <NavItem icon=\"keyboard_arrow_down\">\n                    <DropdownMenu>\n                        <DropdownItem leftIcon=\"bedtime\" onClick={() => toggleMedia('darkTheme')} rightIcon={<Components.Switch on={getMedia('darkTheme')} />}>Dark Mode</DropdownItem>\n                        <DropdownItem leftIcon=\"double_arrow\" onClick={() => toggleMedia('reducedMotion')} rightIcon={<Components.Switch on={getMedia('reducedMotion')} />}>Reduced Motion</DropdownItem>\n                    </DropdownMenu>\n                </NavItem>\n            </Navbar>\n            <Main page={state.location}>\n                <span>hi3</span>\n                <span>hi2</span>\n                <Chat />\n            </Main>\n        </GlobalContext.Provider>\n    );\n}\n\n\nfunction UserDropdown({ autoLogin }) {\n\n    const { loading, user, banned } = useContext(GlobalContext);\n    const [login, setLogin] = useState(autoLogin ?? false);\n\n    if (loading) return <Components.Loading />;\n\n    if (!user && !login) return <DropdownItem leftIcon=\"login\" rightIcon=\"keyboard_arrow_right\" onClick={() => setLogin(true)}>Log In</DropdownItem>;\n    \n    if (!user || login) {\n        const uiConfig = {\n            autoUpgradeAnonymousUsers: true,\n            callbacks: {\n                signInSuccessWithAuthResult: (authResult, redirectUrl) => {\n                    setLogin(false);\n                },\n                signInFailure: async error => {\n                    if (error.code !== 'firebaseui/anonymous-upgrade-merge-conflict') return Promise.resolve();\n                    setLogin(false);\n\n                    firebase.auth().currentUser.delete();\n                    console.log(firebase.auth().currentUser);\n                    console.log(error.credential);\n                    await firebase.auth().signInWithCredential(error.credential);\n\n                    const newUser = firebase.auth().currentUser;\n                    const messages = (await firebase.database().ref('messages').once('value')).val();\n                    const keys = Object.keys(messages).filter(mid => messages[mid].uid === user.uid);\n                    const updates = Object.fromEntries(keys.map(mid => [mid, { ...messages[mid], uid: newUser.uid }]));\nconsole.log(updates);\n                    const data = newUser?.providerData?.[0] ?? newUser;\n                    // const strikes = (await firebase.database().ref('users/' + user.uid + '/strikes').once('value')).val();\n\n                    firebase.database().ref('messages').update(updates);\n                    firebase.database().ref('users/' + newUser.uid).set({\n                        displayName: data.displayName,\n                        photoURL: data.photoURL,\n                        // strikes: strikes\n                    });\n                },\n                signInSuccessUrl: false,\n            },\n            credentialHelper: firebaseui.auth.CredentialHelper.GOOGLE_YOLO,\n            signInFlow: firebase.auth().isSignInWithEmailLink(window.location.href) ? 'redirect' : 'popup',\n            signInOptions: [\n                {\n                    provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\n                    signInMethod: firebase.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD,\n                },\n                {\n                    provider: firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n                    clientId: '837019211462-a62qlmg12ln01fs4ubru65grnp86afup.apps.googleusercontent.com',\n                },\n                firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n                firebase.auth.TwitterAuthProvider.PROVIDER_ID,\n                firebase.auth.GithubAuthProvider.PROVIDER_ID,\n                firebase.auth.PhoneAuthProvider.PROVIDER_ID,\n                !user && firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID,\n            ],\n        };\n\n        return <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />;\n    }\n\n    const data = user.providerData?.[0] ?? user;\n\n    return <>\n        <DropdownItem leftIcon={data.photoURL ?? 'person'}>{data.displayName ?? 'Anonymous'}</DropdownItem>\n        {user.isAnonymous && !banned  && <DropdownItem leftIcon=\"upgrade\" onClick={() => setLogin(true)}>Upgrade account</DropdownItem>}\n        {data.email && <DropdownItem leftIcon=\"alternate_email\">{data.email}</DropdownItem>}\n        {data.phoneNumber && <DropdownItem leftIcon=\"phone\">{data.phoneNumber}</DropdownItem>}\n        <DropdownItem leftIcon=\"close\" onClick={async () => await firebase.auth().signOut()}>Sign out</DropdownItem>\n    </>;\n}\n\nfunction Sidebar(props) {\n    const nodeRef = useRef();\n\n    return (\n        <CSSTransition nodeRef={nodeRef} in={props.visible} timeout={200} classNames=\"sidebar\">\n            <aside ref={nodeRef} className=\"sidebar\">\n                <ul className=\"sidebar-nav\">{props.children}</ul>\n            </aside>\n        </CSSTransition>\n    );\n}\n\nfunction SidebarItem(props) {\n    return (\n        <div className=\"clickable side-item\" onClick={props.onClick}>\n            {props.leftIcon && <span className=\"icon-button\"><Icon name={props.leftIcon} /></span>}\n            {props.children}\n            {props.rightIcon && <span className=\"icon-right\"><Icon name={props.rightIcon} /></span>}\n        </div>\n    );\n}\n\nconst DropdownMenu = React.forwardRef((props, ref) => <div className=\"dropdown\" ref={ref} {...props} />);\n\nfunction DropdownItem(props) {\n    return (\n        <div className=\"clickable drop-item\" onClick={props.onClick}>\n            {props.leftIcon && <span className=\"icon-button\"><Icon name={props.leftIcon} /></span>}\n            {props.children}\n            {props.rightIcon && <span className=\"icon-right\"><Icon name={props.rightIcon} /></span>}\n        </div>\n    );\n}\n\nfunction Navbar(props) {\n    return (\n        <header className=\"navbar\">\n            <ul className=\"navbar-nav\">{props.children}</ul>\n        </header>\n    );\n}\n\nconst Filler = () => <li style={{ margin: 'auto' }} />;\n\nfunction NavItem(props) {\n\n    const [open, setOpen] = useState(props.autoOpen ?? false);\n    const ref = useRef();\n    const ref2 = useRef();\n\n    const onClick = ({ target }) => !props.persistent && !ref.current?.contains?.(target) && !ref2.current?.contains?.(target) && !target.className.includes('firebaseui') && setOpen(false);\n\n    useEffect(() => {\n        document.addEventListener('mousedown', onClick);\n        return () => document.removeEventListener('mousedown', onClick);\n    });\n\n    return (\n        <li className={'nav-item' + (open ? ' open' : '')} ref={ref}>\n            <div className=\"clickable icon-button\" onClick={() => { setOpen(!open); props.onClick?.(!open); }}>\n                <Icon name={props.icon} />\n            </div>\n            {props.badge && <span className=\"nav-badge\">{props.badge}</span>}\n\n            {open && props.children && React.cloneElement(props.children, { ref: ref2 })}\n        </li>\n    );\n}\n\nfunction Main(props) {\n    return (\n        <section className=\"main\">\n            <div className=\"main-container\">{props.children[props.page ?? 0]}</div>\n        </section>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nconst keys = {\n    '(prefers-color-scheme: dark)': 'darkTheme',\n    '(prefers-reduced-motion: reduce)': 'reducedMotion'\n};\nconst accessibility = Object.fromEntries([...document.styleSheets].flatMap(e => [...e.rules]).filter(e => e instanceof CSSMediaRule).map(({ media: m }) => [keys[m.mediaText], [m, m.mediaText.toString()]]));\n\nReactDOM.render(\n    <React.StrictMode>\n        <App keys={keys} accessibility={accessibility} />\n    </React.StrictMode>,\n    document.getElementById('root')\n);"],"sourceRoot":""}